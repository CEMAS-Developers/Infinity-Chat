(this["webpackJsonpreact-chat"]=this["webpackJsonpreact-chat"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(6),a=n.n(c),r=n(16),s=n.n(r),i=(n(21),n(22),n(1)),o=function(e){var t=e.onClick,n=void 0===t?null:t,c=e.children,a=void 0===c?null:c;return Object(i.jsxs)("button",{className:"boton",onClick:n,children:[" ",a," "]})},u=n(13),l=n(10),j=n(11);n(24),n(35);j.a.initializeApp({apiKey:"AIzaSyDpPgzWJT06ypoMdEl5oXWdT7nhiw2TGa8",authDomain:"react-chat-7aa46.firebaseapp.com",projectId:"react-chat-7aa46",storageBucket:"react-chat-7aa46.appspot.com",messagingSenderId:"587968426449",appId:"1:587968426449:web:6d2d9fc0c6db589845f0f0",measurementId:"G-VLKX3JZJ5D"});var d=j.a.firestore(),b=new j.a.auth.GoogleAuthProvider,h=n(37),f=(n(27),function(e){var t="";return e&&(t=(t=Object(h.a)(e,new Date)).charAt(0).toUpperCase()+t.slice(1)),t}),p=function(e){var t=e.createdAt,n=void 0===t?null:t,c=e.text,a=void 0===c?"":c,r=e.displayName,s=void 0===r?"":r,o=e.photoURL,u=void 0===o?"":o;return a?Object(i.jsxs)("div",{className:"user",children:[u?Object(i.jsx)("img",{className:"photo-user",src:u,alt:"Avatar",title:"{text}"}):null,s?Object(i.jsx)("span",{className:"name-user",children:s}):null,(null===n||void 0===n?void 0:n.seconds)?Object(i.jsx)("span",{className:"date-user",children:f(new Date(1e3*n.seconds))}):null,Object(i.jsx)("p",{className:"mensaje-user",children:a})]}):null},m=(n(28),function(){window.scrollTo({top:99999999999,left:0,behavior:"smooth"})}),O=function(e){var t=e.user,n=void 0===t?null:t,a=Object(c.useState)([]),r=Object(l.a)(a,2),s=r[0],o=r[1];Object(c.useEffect)((function(){return d.collection("messages").orderBy("createdAt").limit(100).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id})}));o(t)}))}),[]);var b=n.uid,h=n.displayName,f=n.photoURL,O=Object(c.useState)(""),v=Object(l.a)(O,2),x=v[0],g=v[1],N=d.collection("messages"),y=Object(c.useRef)();return Object(c.useEffect)((function(){y.current&&y.current.focus()}),[y]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"messages-container",children:s.map((function(e){return Object(i.jsx)("p",{children:Object(i.jsx)(p,Object(u.a)({},e))},e.id)}))}),Object(i.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault();var t=x.trim();t&&(N.add({text:t,createdAt:j.a.firestore.FieldValue.serverTimestamp(),uid:b,displayName:h,photoURL:f}),g(""))},children:[Object(i.jsx)("input",{className:"mensaje",ref:y,type:"text",value:x,onChange:function(e){e.preventDefault(),g(e.target.value)},placeholder:"Escribe tu mensaje aqui...",autoComplete:"off"}),Object(i.jsxs)("button",{className:"boton btn-send",type:"submit",disabled:!x,onClick:m(),children:[" ","Enviar"," "]})]})]})},v=(n(29),function(){return Object(i.jsx)("img",{src:"https://i.imgur.com/hV5uceh.png",alt:"Infinity Chat Logo",className:"logo"})}),x=n(9),g=n.n(x),N=n(12),y=function(){var e=Object(N.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.a.auth().useDeviceLanguage(),e.prev=1,e.next=4,j.a.auth().signInWithPopup(b);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(N.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.auth().signOut();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),w=(n(31),function(){return Object(i.jsxs)("main",{children:[Object(i.jsx)("h2",{children:"\xa1Bienvenidos!"}),Object(i.jsx)("img",{src:"https://blog.cpanel.com/wp-content/uploads/2019/08/user-01.png",alt:""}),Object(i.jsx)(o,{onClick:y,children:"Iniciar Sesi\xf3n"})]})});n(32);var S=function(e){var t=Object(c.useState)(!0),n=Object(l.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!0),i=Object(l.a)(s,2),o=i[0],u=i[1];return Object(c.useEffect)((function(){return e.onAuthStateChanged((function(e){u(e||!1),a&&r(!1)}))}),[e,a]),{user:o,initializing:a}},k=function(){return S(j.a.auth()).user?Object(i.jsxs)("header",{className:"menu",children:[Object(i.jsx)(v,{}),Object(i.jsx)("h1",{children:"Infinity Chat"}),Object(i.jsx)(o,{onClick:C,children:" Salir "})]}):Object(i.jsxs)("header",{className:"menu",children:[Object(i.jsx)(v,{}),Object(i.jsx)("h1",{children:"Infinity Chat"}),Object(i.jsx)("div",{className:"invisible-btn"})]})},I=(n(33),function(e){if(e)return Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"Loadinng..."})})});var A=function(){var e=S(j.a.auth()),t=e.itializing,n=e.user;return Object(i.jsxs)("div",{children:[I(t),n?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(k,{}),Object(i.jsx)(O,{user:n}),m()]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(k,{}),Object(i.jsx)(w,{})]})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(A,{})}),document.getElementById("root")),D()}},[[34,1,2]]]);
//# sourceMappingURL=main.846e3ec0.chunk.js.map